---
import { getAllDocs, getParsedMarkdown } from "../../lib/docs";
import Breadcrumbs from "../../components/Breadcrumbs.astro";
import TableOfContents from "../../components/TableOfContents.astro";
import DocLayout from "../../layouts/DocLayout.astro";
import Endpoint from "../../components/Endpoint.astro";
import Mermaid from "../../components/Mermaid";

export async function getStaticPaths() {
  const docs = await getAllDocs();
  return docs.map((doc: any) => ({
    params: { slug: doc.id },
    props: { doc },
  }));
}

const { doc } = Astro.props as { doc: any };
const { data } = doc;
---

<DocLayout title={data.title} slug={doc.id} rawDoc={data}>
  <!-- Content is now handled reactively by AppShell and DocRenderer -->
</DocLayout>
